<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ethos – Made for the intentional</title>
  <meta name="description" content="A dating app for those dating with intention. Join the waitlist for early access.">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png">
  <link rel="apple-touch-icon" href="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --color-cream: #f5f2ed;
      --color-card: #f9f7f4;
      --color-input-bg: #ffffff;
      --color-input-border: #e8e4de;
      --color-gold: #b5a178;
      --color-gold-hover: #a6926b;
      --color-text: #3d3630;
      --color-text-light: #6b5f54;
      --color-white: #ffffff;
      --color-error: #c45c4a;
      --color-success: #5a7a5a;
      
      --font-serif: 'Cormorant Garamond', Georgia, serif;
      --font-sans: 'Source Sans 3', -apple-system, sans-serif;
    }
    
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      height: 100%;
    }
    
    html {
      font-size: 16px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    body {
      font-family: var(--font-sans);
      color: var(--color-text);
      background: var(--color-cream);
      line-height: 1.6;
    }
    
    /* Page Layout */
    .page {
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    /* Header */
    .header {
      background: var(--color-cream);
      padding: 1rem 2.5rem;
      flex-shrink: 0;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 0.625rem;
      text-decoration: none;
      color: var(--color-text);
    }
    
    .logo-img {
      height: 32px;
      width: auto;
    }
    
    .logo-text {
      font-family: var(--font-serif);
      font-size: 1.375rem;
      font-weight: 600;
      letter-spacing: 0.01em;
    }
    
    /* Hero Section */
    .hero {
      flex: 1;
      position: relative;
      display: flex;
    }
    
    .hero-image {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url('hero-bg.png');
      background-size: cover;
      background-position: center;
    }
    
    /* Subtle dark overlay for better text contrast */
    .hero-image::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to right,
        rgba(0, 0, 0, 0.15) 0%,
        rgba(0, 0, 0, 0.05) 50%,
        rgba(0, 0, 0, 0) 100%
      );
    }
    
    .hero-content {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 3rem 3rem;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 3rem;
    }
    
    /* Headline */
    .headline-container {
      padding-bottom: 1.5rem;
      max-width: 500px;
    }
    
    .headline {
      font-family: var(--font-serif);
      font-size: clamp(2.5rem, 5vw, 4.5rem);
      font-weight: 500;
      line-height: 1.1;
      color: var(--color-white);
      letter-spacing: -0.01em;
      margin-bottom: 0.75rem;
      text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
    }
    
    .subheadline {
      font-family: var(--font-serif);
      font-size: clamp(1rem, 1.5vw, 1.375rem);
      font-weight: 400;
      color: var(--color-white);
      text-shadow: 0 1px 12px rgba(0, 0, 0, 0.25), 0 1px 2px rgba(0, 0, 0, 0.15);
    }
    
    /* Form Card */
    .form-container {
      width: 100%;
      max-width: 420px;
      min-width: 340px;
      margin-bottom: 1.5rem;
    }
    
    .form-card {
      background: var(--color-card);
      border-radius: 12px;
      padding: 2.25rem 2rem;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
    }
    
    .form-title {
      font-family: var(--font-serif);
      font-size: 1.625rem;
      font-weight: 600;
      color: var(--color-text);
      text-align: center;
      margin-bottom: 0.375rem;
    }
    
    .form-subtitle {
      font-family: var(--font-serif);
      font-size: 1rem;
      font-weight: 400;
      color: var(--color-text-light);
      text-align: center;
      margin-bottom: 0.5rem;
    }
    
    .form-scarcity {
      font-family: var(--font-serif);
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-gold);
      text-align: center;
      margin-bottom: 1.5rem;
    }
    
    /* Form Elements */
    .form-group {
      margin-bottom: 1.125rem;
    }
    
    .form-label {
      display: block;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--color-text);
      margin-bottom: 0.375rem;
    }
    
    .form-label .required {
      color: var(--color-gold);
      margin-left: 0.125rem;
    }
    
    .form-input {
      width: 100%;
      padding: 0.8125rem 1rem;
      font-family: var(--font-serif);
      font-size: 1rem;
      color: var(--color-text);
      background: var(--color-input-bg);
      border: 1px solid var(--color-input-border);
      border-radius: 8px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    .form-input::placeholder {
      color: #a09890;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--color-gold);
      box-shadow: 0 0 0 3px rgba(181, 161, 120, 0.15);
    }
    
    /* Gender Selection */
    .gender-options {
      display: flex;
      gap: 1.5rem;
      margin-top: 0.25rem;
    }
    
    .gender-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }
    
    .gender-option input[type="radio"] {
      appearance: none;
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border: 1.5px solid var(--color-input-border);
      border-radius: 50%;
      background: var(--color-input-bg);
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .gender-option input[type="radio"]:checked {
      border-color: var(--color-gold);
      background: var(--color-gold);
    }
    
    .gender-option input[type="radio"]:checked::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 6px;
      height: 6px;
      background: var(--color-white);
      border-radius: 50%;
    }
    
    .gender-option input[type="radio"]:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(181, 161, 120, 0.2);
    }
    
    .gender-option span {
      font-family: var(--font-serif);
      font-size: 1rem;
      color: var(--color-text);
    }
    
    /* Submit Button */
    .submit-btn {
      width: 100%;
      padding: 1rem 1.5rem;
      margin-top: 0.75rem;
      font-family: var(--font-serif);
      font-size: 1.0625rem;
      font-weight: 600;
      color: var(--color-white);
      background: var(--color-gold);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s, transform 0.15s;
    }
    
    /* City Autocomplete */
    .city-autocomplete {
      position: relative;
    }
    
    .city-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--color-white);
      border: 1px solid var(--color-input-border);
      border-top: none;
      border-radius: 0 0 8px 8px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 100;
      display: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .city-dropdown.active {
      display: block;
    }
    
    .city-option {
      padding: 0.75rem 1rem;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      color: var(--color-text);
      cursor: pointer;
      transition: background 0.15s;
    }
    
    .city-option:hover,
    .city-option.selected {
      background: var(--color-cream);
    }
    
    .city-loading {
      padding: 0.75rem 1rem;
      font-family: var(--font-serif);
      font-size: 0.875rem;
      color: var(--color-text-light);
      font-style: italic;
    }
    
    .submit-btn:hover {
      background: var(--color-gold-hover);
    }
    
    .submit-btn:active {
      transform: scale(0.99);
    }
    
    .submit-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Privacy Note - slightly more visible */
    .privacy-note {
      font-family: var(--font-serif);
      font-size: 0.875rem;
      color: var(--color-text-light);
      text-align: center;
      margin-top: 1rem;
      opacity: 0.85;
    }
    
    /* Success & Error States */
    .form-message {
      padding: 0.875rem;
      border-radius: 8px;
      margin-bottom: 1.25rem;
      text-align: center;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      display: none;
    }
    
    .form-message.success {
      background: rgba(90, 122, 90, 0.1);
      color: var(--color-success);
      display: block;
    }
    
    .form-message.error {
      background: rgba(196, 92, 74, 0.1);
      color: var(--color-error);
      display: block;
    }
    
    /* Success State */
    .form-card.submitted .waitlist-form {
      display: none;
    }
    
    .success-content {
      display: none;
      text-align: center;
      padding: 1rem 0;
    }
    
    .form-card.submitted .success-content {
      display: block;
    }
    
    .success-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 1.25rem;
      background: rgba(90, 122, 90, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .success-icon svg {
      width: 30px;
      height: 30px;
      color: var(--color-success);
    }
    
    .success-title {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.5rem;
    }
    
    .success-text {
      font-family: var(--font-serif);
      font-size: 1rem;
      color: var(--color-text-light);
      line-height: 1.5;
    }
    
    /* Desktop large screens */
    @media (min-width: 1200px) {
      .form-container {
        max-width: 440px;
      }
      
      .form-card {
        padding: 2.5rem 2.25rem;
      }
      
      .form-title {
        font-size: 1.75rem;
      }
    }
    
    /* Mobile Styles */
    @media (max-width: 900px) {
      .header {
        padding: 0.875rem 1.5rem;
      }
      
      .logo-img {
        height: 28px;
      }
      
      .logo-text {
        font-size: 1.25rem;
      }
      
      .hero-content {
        flex-direction: column;
        justify-content: flex-end;
        align-items: stretch;
        padding: 1.5rem 1.5rem 1.5rem;
        gap: 1.5rem;
      }
      
      .headline-container {
        padding-bottom: 0;
      }
      
      .form-container {
        max-width: 100%;
        min-width: unset;
        margin-bottom: 0;
      }
      
      .form-card {
        padding: 1.75rem 1.5rem;
      }
    }
    
    @media (max-width: 480px) {
      .header {
        padding: 0.75rem 1.25rem;
      }
      
      .logo-img {
        height: 26px;
      }
      
      .logo-text {
        font-size: 1.125rem;
      }
      
      .hero-content {
        padding: 1rem 1.25rem 1.25rem;
      }
      
      .headline {
        font-size: 2.25rem;
      }
      
      .subheadline {
        font-size: 1rem;
      }
      
      .form-card {
        padding: 1.5rem 1.25rem;
      }
      
      .form-title {
        font-size: 1.375rem;
      }
      
      .gender-options {
        gap: 1.25rem;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- Header -->
    <header class="header">
      <a href="/" class="logo">
        <img 
          src="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png" 
          alt="Ethos" 
          class="logo-img"
        >
        <span class="logo-text">Ethos</span>
      </a>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-image"></div>
      
      <div class="hero-content">
        <div class="headline-container">
          <h1 class="headline">Made for the<br>intentional.</h1>
          <p class="subheadline">For those wanting to find their person.</p>
        </div>
        
        <div class="form-container">
          <div class="form-card" id="formCard">
            <h2 class="form-title">Join for Early Access</h2>
            <p class="form-subtitle">Priority access and launch updates.</p>
            <p class="form-scarcity">Early access is limited.</p>
            
            <div class="form-message" id="formMessage"></div>
            
            <form class="waitlist-form" id="waitlistForm">
              <div class="form-group">
                <label class="form-label">
                  Name<span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  class="form-input" 
                  name="name" 
                  placeholder="Your name"
                  required
                >
              </div>
              
              <div class="form-group">
                <label class="form-label">
                  Gender<span class="required">*</span>
                </label>
                <div class="gender-options">
                  <label class="gender-option">
                    <input type="radio" name="gender" value="male" required>
                    <span>Male</span>
                  </label>
                  <label class="gender-option">
                    <input type="radio" name="gender" value="female" required>
                    <span>Female</span>
                  </label>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label">
                  Email<span class="required">*</span>
                </label>
                <input 
                  type="email" 
                  class="form-input" 
                  name="email" 
                  placeholder="your@email.com"
                  required
                >
              </div>
              
              <div class="form-group city-autocomplete">
                <label class="form-label">
                  City<span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  class="form-input" 
                  name="city" 
                  id="cityInput"
                  placeholder="Start typing your city..."
                  autocomplete="off"
                  required
                >
                <div class="city-dropdown" id="cityDropdown"></div>
              </div>
              
              <button type="submit" class="submit-btn" id="submitBtn">
                Join Early Access
              </button>
              
              <p class="privacy-note">We respect your privacy. No spam. Ever.</p>
            </form>
            
            <div class="success-content">
              <div class="success-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <h3 class="success-title">You're on the list!</h3>
              <p class="success-text">We'll be in touch soon with early access details. Thank you for your interest in Ethos.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  
  <script>
    // Supabase configuration
    const SUPABASE_URL = 'https://ecdxgzpjgdosueacomwn.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVjZHhnenBqZ2Rvc3VlYWNvbXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MTkyNzIsImV4cCI6MjA3NTE5NTI3Mn0.eY34mu5D2-4u_albqMVlH8yVvnwLTlRUgFv-9YBRA58';
    
    const form = document.getElementById('waitlistForm');
    const formCard = document.getElementById('formCard');
    const formMessage = document.getElementById('formMessage');
    const submitBtn = document.getElementById('submitBtn');
    
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Disable button and show loading state
      submitBtn.disabled = true;
      submitBtn.textContent = 'Joining...';
      formMessage.className = 'form-message';
      formMessage.style.display = 'none';
      
      // Get form data
      const formData = new FormData(form);
      const data = {
        name: formData.get('name').trim(),
        email: formData.get('email').trim().toLowerCase(),
        gender: formData.get('gender'),
        city: formData.get('city').trim()
      };
      
      try {
        const response = await fetch(`${SUPABASE_URL}/rest/v1/waitlist`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'apikey': SUPABASE_ANON_KEY,
            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
            'Prefer': 'return=minimal'
          },
          body: JSON.stringify(data)
        });
        
        if (response.ok) {
          // Success - show success state
          formCard.classList.add('submitted');
        } else if (response.status === 409) {
          // Duplicate email
          showAlreadyRegistered();
        } else {
          const error = await response.json();
          if (error.message?.includes('duplicate') || error.message?.includes('unique')) {
            showAlreadyRegistered();
          } else {
            showError('Something went wrong. Please try again.');
          }
        }
      } catch (error) {
        console.error('Error:', error);
        showError('Unable to connect. Please check your internet and try again.');
      }
      
      // Re-enable button
      submitBtn.disabled = false;
      submitBtn.textContent = 'Join Early Access';
    });
    
    function showError(message) {
      formMessage.textContent = message;
      formMessage.className = 'form-message error';
      formMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    
    function showAlreadyRegistered() {
      // Show a friendly "already registered" state instead of the form
      formCard.innerHTML = `
        <div class="success-content" style="display: block;">
          <div class="success-icon" style="background: rgba(181, 161, 120, 0.15);">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="color: var(--color-gold);">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h3 class="success-title">You're already on the list!</h3>
          <p class="success-text">We have your details and will be in touch soon with early access updates.</p>
        </div>
      `;
    }
    
    // City Autocomplete
    const cityInput = document.getElementById('cityInput');
    const cityDropdown = document.getElementById('cityDropdown');
    let debounceTimer;
    let selectedIndex = -1;
    
    cityInput.addEventListener('input', (e) => {
      const query = e.target.value.trim();
      
      // Clear previous timer
      clearTimeout(debounceTimer);
      
      if (query.length < 2) {
        cityDropdown.classList.remove('active');
        return;
      }
      
      // Debounce API calls
      debounceTimer = setTimeout(() => fetchCities(query), 300);
    });
    
    // Major cities list for autocomplete (300+ cities worldwide)
    const CITIES = [
      // Australia
      "Sydney, Australia", "Melbourne, Australia", "Brisbane, Australia", "Perth, Australia", "Adelaide, Australia",
      "Gold Coast, Australia", "Canberra, Australia", "Newcastle, Australia", "Hobart, Australia", "Darwin, Australia",
      "Wollongong, Australia", "Geelong, Australia", "Townsville, Australia", "Cairns, Australia", "Toowoomba, Australia",
      // New Zealand
      "Auckland, New Zealand", "Wellington, New Zealand", "Christchurch, New Zealand", "Hamilton, New Zealand", "Dunedin, New Zealand",
      // United Kingdom
      "London, United Kingdom", "Manchester, United Kingdom", "Birmingham, United Kingdom", "Edinburgh, United Kingdom",
      "Glasgow, United Kingdom", "Liverpool, United Kingdom", "Bristol, United Kingdom", "Leeds, United Kingdom",
      "Sheffield, United Kingdom", "Newcastle, United Kingdom", "Nottingham, United Kingdom", "Southampton, United Kingdom",
      "Brighton, United Kingdom", "Cambridge, United Kingdom", "Oxford, United Kingdom", "Cardiff, United Kingdom",
      "Belfast, United Kingdom", "Leicester, United Kingdom", "Coventry, United Kingdom", "Reading, United Kingdom",
      // Ireland
      "Dublin, Ireland", "Cork, Ireland", "Galway, Ireland", "Limerick, Ireland",
      // United States
      "New York, United States", "Los Angeles, United States", "Chicago, United States", "Houston, United States",
      "Phoenix, United States", "Philadelphia, United States", "San Antonio, United States", "San Diego, United States",
      "Dallas, United States", "San Jose, United States", "Austin, United States", "Jacksonville, United States",
      "Fort Worth, United States", "Columbus, United States", "Charlotte, United States", "San Francisco, United States",
      "Indianapolis, United States", "Seattle, United States", "Denver, United States", "Boston, United States",
      "Nashville, United States", "Portland, United States", "Las Vegas, United States", "Detroit, United States",
      "Memphis, United States", "Louisville, United States", "Baltimore, United States", "Milwaukee, United States",
      "Albuquerque, United States", "Tucson, United States", "Fresno, United States", "Sacramento, United States",
      "Atlanta, United States", "Miami, United States", "Oakland, United States", "Minneapolis, United States",
      "Cleveland, United States", "Raleigh, United States", "Tampa, United States", "New Orleans, United States",
      "Pittsburgh, United States", "Cincinnati, United States", "St. Louis, United States", "Orlando, United States",
      "Washington DC, United States", "Honolulu, United States", "Salt Lake City, United States", "Kansas City, United States",
      // Canada
      "Toronto, Canada", "Montreal, Canada", "Vancouver, Canada", "Calgary, Canada", "Edmonton, Canada",
      "Ottawa, Canada", "Winnipeg, Canada", "Quebec City, Canada", "Hamilton, Canada", "Victoria, Canada",
      "Halifax, Canada", "Saskatoon, Canada", "Regina, Canada", "Kitchener, Canada", "London, Canada",
      // India
      "Mumbai, India", "Delhi, India", "Bangalore, India", "Hyderabad, India", "Chennai, India",
      "Kolkata, India", "Pune, India", "Ahmedabad, India", "Jaipur, India", "Surat, India",
      "Lucknow, India", "Kanpur, India", "Nagpur, India", "Indore, India", "Thane, India",
      "Bhopal, India", "Visakhapatnam, India", "Patna, India", "Vadodara, India", "Ghaziabad, India",
      "Ludhiana, India", "Agra, India", "Nashik, India", "Faridabad, India", "Meerut, India",
      "Coimbatore, India", "Kochi, India", "Chandigarh, India", "Goa, India", "Trivandrum, India",
      // Singapore, Hong Kong, Malaysia
      "Singapore", "Hong Kong", "Kuala Lumpur, Malaysia", "Penang, Malaysia", "Johor Bahru, Malaysia",
      // UAE & Middle East
      "Dubai, UAE", "Abu Dhabi, UAE", "Sharjah, UAE", "Doha, Qatar", "Kuwait City, Kuwait",
      "Riyadh, Saudi Arabia", "Jeddah, Saudi Arabia", "Manama, Bahrain", "Muscat, Oman", "Amman, Jordan",
      "Beirut, Lebanon", "Tel Aviv, Israel", "Jerusalem, Israel",
      // Europe - Western
      "Paris, France", "Marseille, France", "Lyon, France", "Toulouse, France", "Nice, France", "Bordeaux, France",
      "Berlin, Germany", "Munich, Germany", "Frankfurt, Germany", "Hamburg, Germany", "Cologne, Germany", "Stuttgart, Germany", "Düsseldorf, Germany",
      "Amsterdam, Netherlands", "Rotterdam, Netherlands", "The Hague, Netherlands", "Utrecht, Netherlands",
      "Brussels, Belgium", "Antwerp, Belgium", "Ghent, Belgium",
      "Zurich, Switzerland", "Geneva, Switzerland", "Basel, Switzerland", "Bern, Switzerland",
      "Vienna, Austria", "Salzburg, Austria",
      "Luxembourg City, Luxembourg",
      // Europe - Southern
      "Madrid, Spain", "Barcelona, Spain", "Valencia, Spain", "Seville, Spain", "Málaga, Spain", "Bilbao, Spain",
      "Rome, Italy", "Milan, Italy", "Naples, Italy", "Turin, Italy", "Florence, Italy", "Bologna, Italy", "Venice, Italy",
      "Lisbon, Portugal", "Porto, Portugal",
      "Athens, Greece", "Thessaloniki, Greece",
      // Europe - Northern
      "Stockholm, Sweden", "Gothenburg, Sweden", "Malmö, Sweden",
      "Copenhagen, Denmark", "Aarhus, Denmark",
      "Oslo, Norway", "Bergen, Norway",
      "Helsinki, Finland", "Tampere, Finland",
      "Reykjavik, Iceland",
      // Europe - Eastern
      "Warsaw, Poland", "Krakow, Poland", "Wroclaw, Poland", "Gdansk, Poland",
      "Prague, Czech Republic", "Brno, Czech Republic",
      "Budapest, Hungary",
      "Bucharest, Romania", "Cluj-Napoca, Romania",
      "Sofia, Bulgaria",
      "Belgrade, Serbia",
      "Zagreb, Croatia", "Split, Croatia",
      "Ljubljana, Slovenia",
      "Bratislava, Slovakia",
      "Tallinn, Estonia", "Riga, Latvia", "Vilnius, Lithuania",
      "Kyiv, Ukraine", "Lviv, Ukraine",
      "Moscow, Russia", "St. Petersburg, Russia",
      // Asia - East
      "Tokyo, Japan", "Osaka, Japan", "Yokohama, Japan", "Nagoya, Japan", "Kyoto, Japan", "Fukuoka, Japan", "Sapporo, Japan",
      "Seoul, South Korea", "Busan, South Korea", "Incheon, South Korea",
      "Beijing, China", "Shanghai, China", "Guangzhou, China", "Shenzhen, China", "Chengdu, China", "Hangzhou, China",
      "Taipei, Taiwan", "Kaohsiung, Taiwan",
      // Asia - Southeast
      "Bangkok, Thailand", "Chiang Mai, Thailand", "Phuket, Thailand",
      "Ho Chi Minh City, Vietnam", "Hanoi, Vietnam",
      "Jakarta, Indonesia", "Bali, Indonesia", "Surabaya, Indonesia",
      "Manila, Philippines", "Cebu, Philippines",
      "Phnom Penh, Cambodia", "Yangon, Myanmar",
      // Asia - South
      "Colombo, Sri Lanka", "Dhaka, Bangladesh", "Kathmandu, Nepal", "Karachi, Pakistan", "Lahore, Pakistan", "Islamabad, Pakistan",
      // Africa
      "Johannesburg, South Africa", "Cape Town, South Africa", "Durban, South Africa", "Pretoria, South Africa",
      "Lagos, Nigeria", "Abuja, Nigeria", "Accra, Ghana", "Nairobi, Kenya", "Addis Ababa, Ethiopia",
      "Cairo, Egypt", "Alexandria, Egypt", "Casablanca, Morocco", "Marrakech, Morocco", "Tunis, Tunisia",
      "Dar es Salaam, Tanzania", "Kampala, Uganda", "Kigali, Rwanda",
      // South America
      "São Paulo, Brazil", "Rio de Janeiro, Brazil", "Brasília, Brazil", "Salvador, Brazil", "Belo Horizonte, Brazil", "Curitiba, Brazil",
      "Buenos Aires, Argentina", "Córdoba, Argentina", "Mendoza, Argentina",
      "Santiago, Chile", "Valparaíso, Chile",
      "Lima, Peru", "Cusco, Peru",
      "Bogotá, Colombia", "Medellín, Colombia", "Cartagena, Colombia",
      "Quito, Ecuador", "Guayaquil, Ecuador",
      "Caracas, Venezuela",
      "Montevideo, Uruguay",
      // Central America & Caribbean
      "Mexico City, Mexico", "Guadalajara, Mexico", "Monterrey, Mexico", "Cancún, Mexico", "Tijuana, Mexico",
      "Panama City, Panama", "San José, Costa Rica", "Guatemala City, Guatemala",
      "Havana, Cuba", "San Juan, Puerto Rico", "Kingston, Jamaica", "Nassau, Bahamas",
      // Pacific
      "Suva, Fiji", "Port Moresby, Papua New Guinea"
    ];
    
    function fetchCities(query) {
      const lowerQuery = query.toLowerCase();
      const matches = CITIES.filter(city => 
        city.toLowerCase().includes(lowerQuery)
      ).slice(0, 7);
      
      displayCities(matches);
    }
    
    function displayCities(cities) {
      if (cities.length === 0) {
        cityDropdown.innerHTML = '<div class="city-loading">Type your city or select from suggestions</div>';
        cityDropdown.classList.add('active');
        return;
      }
      
      selectedIndex = -1;
      cityDropdown.innerHTML = cities.map((city, index) => {
        return `<div class="city-option" data-index="${index}" data-value="${city}">${city}</div>`;
      }).join('');
      
      cityDropdown.classList.add('active');
      
      // Add click handlers
      cityDropdown.querySelectorAll('.city-option').forEach(option => {
        option.addEventListener('click', () => {
          cityInput.value = option.dataset.value;
          cityDropdown.classList.remove('active');
        });
      });
    }
    
    // Keyboard navigation
    cityInput.addEventListener('keydown', (e) => {
      const options = cityDropdown.querySelectorAll('.city-option');
      if (!options.length) return;
      
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        selectedIndex = Math.min(selectedIndex + 1, options.length - 1);
        updateSelection(options);
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        selectedIndex = Math.max(selectedIndex - 1, 0);
        updateSelection(options);
      } else if (e.key === 'Enter' && selectedIndex >= 0) {
        e.preventDefault();
        cityInput.value = options[selectedIndex].dataset.value;
        cityDropdown.classList.remove('active');
      } else if (e.key === 'Escape') {
        cityDropdown.classList.remove('active');
      }
    });
    
    function updateSelection(options) {
      options.forEach((opt, i) => {
        opt.classList.toggle('selected', i === selectedIndex);
      });
    }
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.city-autocomplete')) {
        cityDropdown.classList.remove('active');
      }
    });
  </script>
</body>
</html>
