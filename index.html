<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ethos – Made for the intentional</title>
  <meta name="description" content="Ethos – matchmaking, not swiping. Join the waitlist for early access.">
  
  <!-- Open Graph / Social Sharing -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ethosapp.co">
  <meta property="og:title" content="Ethos – Made for the intentional">
  <meta property="og:description" content="Matchmaking, not swiping. Join the waitlist for early access.">
  <meta property="og:image" content="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Ethos – Made for the intentional">
  <meta name="twitter:description" content="Matchmaking, not swiping. Join the waitlist for early access.">
  <meta name="twitter:image" content="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png">
  <link rel="apple-touch-icon" href="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --color-cream: #f5f2ed;
      --color-card: #f9f7f4;
      --color-input-bg: #ffffff;
      --color-input-border: #e8e4de;
      --color-gold: #b5a178;
      --color-gold-hover: #a6926b;
      --color-text: #3d3630;
      --color-text-light: #6b5f54;
      --color-white: #ffffff;
      --color-error: #c45c4a;
      --color-success: #5a7a5a;
      
      --font-serif: 'Cormorant Garamond', Georgia, serif;
      --font-sans: 'Source Sans 3', -apple-system, sans-serif;
    }
    
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      height: 100%;
    }
    
    html {
      font-size: 16px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    body {
      font-family: var(--font-sans);
      color: var(--color-text);
      background: var(--color-cream);
      line-height: 1.6;
    }
    
    /* Hamburger Menu */
    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .menu-toggle {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.5rem;
      display: flex;
      flex-direction: column;
      gap: 5px;
      z-index: 1001;
    }

    .menu-toggle span {
      display: block;
      width: 22px;
      height: 1.5px;
      background: var(--color-text);
      border-radius: 1px;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .menu-toggle.active span:nth-child(1) {
      transform: translateY(6.5px) rotate(45deg);
    }

    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
      transform: translateY(-6.5px) rotate(-45deg);
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(45, 45, 45, 0.80);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .menu-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .menu-drawer {
      position: fixed;
      top: 0;
      right: 0;
      width: 300px;
      max-width: 85vw;
      height: 100%;
      background: var(--color-cream);
      z-index: 1000;
      transform: translateX(100%);
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
      padding: 5rem 2rem 2rem;
    }

    .menu-drawer.active {
      transform: translateX(0);
    }

    .menu-nav {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .menu-link {
      font-family: var(--font-serif);
      font-size: 1.25rem;
      font-weight: 500;
      color: var(--color-text);
      text-decoration: none;
      padding: 0.875rem 0;
      border-bottom: 1px solid var(--color-input-border);
      transition: color 0.2s;
      display: block;
    }

    .menu-link:hover {
      color: var(--color-gold);
    }

    .menu-link:first-child {
      border-top: 1px solid var(--color-input-border);
    }

    .menu-footer {
      margin-top: auto;
      padding-top: 1.5rem;
    }

    .menu-contact {
      font-family: var(--font-serif);
      font-size: 0.875rem;
      color: var(--color-text-light);
      line-height: 1.6;
    }

    .menu-contact a {
      color: var(--color-gold);
      text-decoration: none;
    }

    .menu-contact a:hover {
      text-decoration: underline;
    }

    /* Page Layout */
    .page {
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    /* Header */
    .header {
      background: var(--color-cream);
      padding: 1rem 2.5rem;
      flex-shrink: 0;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 0.625rem;
      text-decoration: none;
      color: var(--color-text);
    }
    
    .logo-img {
      height: 32px;
      width: auto;
    }
    
    .logo-text {
      font-family: var(--font-serif);
      font-size: 1.375rem;
      font-weight: 600;
      letter-spacing: 0.01em;
    }
    
    /* Hero Section */
    .hero {
      flex: 1;
      position: relative;
      display: flex;
    }
    
    .hero-image {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url('hero-bg.png');
      background-size: cover;
      background-position: center;
    }
    
    /* Subtle dark overlay for better text contrast */
    .hero-image::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(
        to right,
        rgba(0, 0, 0, 0.15) 0%,
        rgba(0, 0, 0, 0.05) 50%,
        rgba(0, 0, 0, 0) 100%
      );
    }
    
    .hero-content {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem 3rem 3rem;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      gap: 3rem;
    }
    
    /* Headline */
    .headline-container {
      padding-bottom: 1.5rem;
      max-width: 500px;
    }
    
    .headline {
      font-family: var(--font-serif);
      font-size: clamp(2.5rem, 5vw, 4.5rem);
      font-weight: 500;
      line-height: 1.1;
      color: var(--color-white);
      letter-spacing: -0.01em;
      margin-bottom: 0.75rem;
      text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
    }
    
    .subheadline {
      font-family: var(--font-serif);
      font-size: clamp(1rem, 1.5vw, 1.375rem);
      font-weight: 400;
      color: var(--color-white);
      text-shadow: 0 1px 12px rgba(0, 0, 0, 0.25), 0 1px 2px rgba(0, 0, 0, 0.15);
    }
    
    /* Form Card */
    .form-container {
      width: 100%;
      max-width: 420px;
      min-width: 340px;
      margin-bottom: 1.5rem;
    }
    
    .form-card {
      background: var(--color-card);
      border-radius: 12px;
      padding: 2.25rem 2rem;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
    }
    
    .form-title {
      font-family: var(--font-serif);
      font-size: 1.625rem;
      font-weight: 600;
      color: var(--color-text);
      text-align: center;
      margin-bottom: 0.375rem;
    }
    
    .form-subtitle {
      font-family: var(--font-serif);
      font-size: 1rem;
      font-weight: 400;
      color: var(--color-text-light);
      text-align: center;
      margin-bottom: 0.5rem;
    }
    
    .form-scarcity {
      font-family: var(--font-serif);
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-gold);
      text-align: center;
      margin-bottom: 1.5rem;
    }
    
    /* Form Elements */
    .form-group {
      margin-bottom: 1.125rem;
    }
    
    .form-label {
      display: block;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--color-text);
      margin-bottom: 0.375rem;
    }
    
    .form-label .required {
      color: var(--color-gold);
      margin-left: 0.125rem;
    }
    
    .form-input {
      width: 100%;
      padding: 0.8125rem 1rem;
      font-family: var(--font-serif);
      font-size: 1rem;
      color: var(--color-text);
      background: var(--color-input-bg);
      border: 1px solid var(--color-input-border);
      border-radius: 8px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    .form-input::placeholder {
      color: #a09890;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--color-gold);
      box-shadow: 0 0 0 3px rgba(181, 161, 120, 0.15);
    }
    
    /* Gender Selection */
    .gender-options {
      display: flex;
      gap: 1.5rem;
      margin-top: 0.25rem;
    }
    
    .gender-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }
    
    .gender-option input[type="radio"] {
      appearance: none;
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border: 1.5px solid var(--color-input-border);
      border-radius: 50%;
      background: var(--color-input-bg);
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .gender-option input[type="radio"]:checked {
      border-color: var(--color-gold);
      background: var(--color-gold);
    }
    
    .gender-option input[type="radio"]:checked::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 6px;
      height: 6px;
      background: var(--color-white);
      border-radius: 50%;
    }
    
    .gender-option input[type="radio"]:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(181, 161, 120, 0.2);
    }
    
    .gender-option span {
      font-family: var(--font-serif);
      font-size: 1rem;
      color: var(--color-text);
    }
    
    /* Submit Button */
    .submit-btn {
      width: 100%;
      padding: 1rem 1.5rem;
      margin-top: 0.75rem;
      font-family: var(--font-serif);
      font-size: 1.0625rem;
      font-weight: 600;
      color: var(--color-white);
      background: var(--color-gold);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s, transform 0.15s;
    }
    
    /* City Autocomplete */
    .city-autocomplete {
      position: relative;
    }
    
    .city-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--color-white);
      border: 1px solid var(--color-input-border);
      border-top: none;
      border-radius: 0 0 8px 8px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 100;
      display: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    .city-dropdown.active {
      display: block;
    }
    
    .city-option {
      padding: 0.75rem 1rem;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      color: var(--color-text);
      cursor: pointer;
      transition: background 0.15s;
    }
    
    .city-option:hover,
    .city-option.selected {
      background: var(--color-cream);
    }
    
    .city-loading {
      padding: 0.75rem 1rem;
      font-family: var(--font-serif);
      font-size: 0.875rem;
      color: var(--color-text-light);
      font-style: italic;
    }
    
    .submit-btn:hover {
      background: var(--color-gold-hover);
    }
    
    .submit-btn:active {
      transform: scale(0.99);
    }
    
    .submit-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Privacy Note - slightly more visible */
    .privacy-note {
      font-family: var(--font-serif);
      font-size: 0.875rem;
      color: var(--color-text-light);
      text-align: center;
      margin-top: 1rem;
      opacity: 0.85;
    }
    
    /* Success & Error States */
    .form-message {
      padding: 0.875rem;
      border-radius: 8px;
      margin-bottom: 1.25rem;
      text-align: center;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      display: none;
    }
    
    .form-message.success {
      background: rgba(90, 122, 90, 0.1);
      color: var(--color-success);
      display: block;
    }
    
    .form-message.error {
      background: rgba(196, 92, 74, 0.1);
      color: var(--color-error);
      display: block;
    }
    
    /* Success State */
    .form-card.submitted .waitlist-form {
      display: none;
    }
    
    .form-card.submitted .form-title,
    .form-card.submitted .form-subtitle,
    .form-card.submitted .form-scarcity,
    .form-card.submitted .form-message {
      display: none;
    }
    
    .success-content {
      display: none;
      text-align: center;
      padding: 0.5rem 0;
    }
    
    .form-card.submitted .success-content {
      display: block;
    }
    
    .success-icon {
      width: 48px;
      height: 48px;
      margin: 0.75rem auto 1rem;
      background: rgba(90, 122, 90, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .success-icon svg {
      width: 24px;
      height: 24px;
      color: var(--color-success);
    }
    
    .success-title {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.5rem;
    }
    
    .success-text {
      font-family: var(--font-serif);
      font-size: 1rem;
      color: var(--color-text-light);
      line-height: 1.5;
      margin-bottom: 1.25rem;
    }
    
    /* Share Section */
    .share-divider {
      height: 1px;
      background: var(--color-input-border);
      margin: 0 0 1.25rem;
    }
    
    .share-label {
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--color-text);
      text-align: center;
      margin-bottom: 1rem;
    }
    
    .share-btn-primary {
      width: 100%;
      padding: 0.875rem 1rem;
      font-family: var(--font-serif);
      font-size: 1rem;
      font-weight: 600;
      color: var(--color-white);
      background: var(--color-gold);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s, transform 0.15s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 0.625rem;
    }
    
    .share-btn-primary:hover {
      background: var(--color-gold-hover);
    }
    
    .share-btn-primary:active {
      transform: scale(0.99);
    }
    
    .share-btn-primary svg {
      width: 18px;
      height: 18px;
    }
    
    .share-btn-secondary {
      width: 100%;
      padding: 0.75rem 1rem;
      font-family: var(--font-serif);
      font-size: 0.9375rem;
      font-weight: 500;
      color: var(--color-gold);
      background: transparent;
      border: 1.5px solid var(--color-gold);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .share-btn-secondary:hover {
      background: rgba(181, 161, 120, 0.08);
    }
    
    .share-btn-secondary svg {
      width: 16px;
      height: 16px;
    }
    
    .share-btn-secondary.copied {
      color: var(--color-success);
      border-color: var(--color-success);
    }
    
    /* Desktop large screens */
    @media (min-width: 1200px) {
      .form-container {
        max-width: 440px;
      }
      
      .form-card {
        padding: 2.5rem 2.25rem;
      }
      
      .form-title {
        font-size: 1.75rem;
      }
    }
    
    /* Mobile Styles */
    @media (max-width: 900px) {
      .header {
        padding: 0.875rem 1.5rem;
      }
      
      .logo-img {
        height: 28px;
      }
      
      .logo-text {
        font-size: 1.25rem;
      }
      
      .hero-content {
        flex-direction: column;
        justify-content: flex-end;
        align-items: stretch;
        padding: 1.5rem 1.5rem 1.5rem;
        gap: 1.5rem;
      }
      
      .headline-container {
        padding-bottom: 0;
      }
      
      .form-container {
        max-width: 100%;
        min-width: unset;
        margin-bottom: 0;
      }
      
      .form-card {
        padding: 1.75rem 1.5rem;
      }
    }
    
    @media (max-width: 480px) {
      .header {
        padding: 0.75rem 1.25rem;
      }
      
      .logo-img {
        height: 26px;
      }
      
      .logo-text {
        font-size: 1.125rem;
      }
      
      .hero-content {
        padding: 1rem 1.25rem 1.25rem;
      }
      
      .headline {
        font-size: 2.25rem;
      }
      
      .subheadline {
        font-size: 1rem;
      }
      
      .form-card {
        padding: 1.5rem 1.25rem;
      }
      
      .form-title {
        font-size: 1.375rem;
      }
      
      .gender-options {
        gap: 1.25rem;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- Header -->
    <header class="header">
      <div class="header-inner">
        <a href="/" class="logo">
          <img 
            src="https://ecdxgzpjgdosueacomwn.supabase.co/storage/v1/object/public/static-assets/ethoslogo.png" 
            alt="Ethos" 
            class="logo-img"
          >
          <span class="logo-text">Ethos</span>
        </a>
        <button class="menu-toggle" id="menuToggle" aria-label="Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </header>

    <!-- Menu Overlay -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Menu Drawer -->
    <nav class="menu-drawer" id="menuDrawer">
      <div class="menu-nav">
        <a href="/about" class="menu-link">About Ethos</a>
        <a href="/blog" class="menu-link">Blog</a>
        <a href="/safety" class="menu-link">Safety Tips</a>
        <a href="/privacy" class="menu-link">Privacy Policy</a>
        <a href="/terms" class="menu-link">Terms of Service</a>
        <a href="/contact" class="menu-link">Contact Us</a>
      </div>
      <div class="menu-footer">
        <p class="menu-contact">
          Questions? Reach us at<br>
          <a href="/cdn-cgi/l/email-protection#b2c1c7c2c2ddc0c6f2d7c6daddc1d3c2c29cd1dd"><span class="__cf_email__" data-cfemail="cebdbbbebea1bcba8eabbaa6a1bdafbebee0ada1">[email&#160;protected]</span></a>
        </p>
      </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-image"></div>
      
      <div class="hero-content">
        <div class="headline-container">
          <h1 class="headline">Made for the<br>intentional.</h1>
          <p class="subheadline">For those wanting to find their person.</p>
        </div>
        
        <div class="form-container">
          <div class="form-card" id="formCard">
            <h2 class="form-title">Join for Early Access</h2>
            <p class="form-subtitle">Priority access and launch updates.</p>
            <p class="form-scarcity">Early access is limited.</p>
            
            <div class="form-message" id="formMessage"></div>
            
            <form class="waitlist-form" id="waitlistForm">
              <div class="form-group">
                <label class="form-label">
                  Name<span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  class="form-input" 
                  name="name" 
                  placeholder="Your name"
                  required
                >
              </div>
              
              <div class="form-group">
                <label class="form-label">
                  Gender<span class="required">*</span>
                </label>
                <div class="gender-options">
                  <label class="gender-option">
                    <input type="radio" name="gender" value="male" required>
                    <span>Male</span>
                  </label>
                  <label class="gender-option">
                    <input type="radio" name="gender" value="female" required>
                    <span>Female</span>
                  </label>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label">
                  Email<span class="required">*</span>
                </label>
                <input 
                  type="email" 
                  class="form-input" 
                  name="email" 
                  placeholder="your@email.com"
                  required
                >
              </div>
              
              <div class="form-group city-autocomplete">
                <label class="form-label">
                  City<span class="required">*</span>
                </label>
                <input 
                  type="text" 
                  class="form-input" 
                  name="city" 
                  id="cityInput"
                  placeholder="Start typing your city..."
                  autocomplete="off"
                  required
                >
                <div class="city-dropdown" id="cityDropdown"></div>
              </div>
              
              <button type="submit" class="submit-btn" id="submitBtn">
                Join Early Access
              </button>
              
              <p class="privacy-note">We respect your privacy. No spam. Ever.</p>
            </form>
            
            <div class="success-content">
              <h3 class="success-title">You're on the list!</h3>
              <div class="success-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <p class="success-text">We'll be in touch soon with early access details. Thank you for your interest in Ethos.</p>
              
              <div class="share-divider"></div>
              <p class="share-label">Know someone who should be on this list?</p>
              
              <button class="share-btn-primary" id="shareBtn" onclick="handleShare()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13" />
                </svg>
                Share with Friends
              </button>
              
              <button class="share-btn-secondary" id="copyBtn" onclick="handleCopyLink()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101M10.172 13.828a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
                Copy link
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
    // Menu toggle
    const menuToggle = document.getElementById('menuToggle');
    const menuDrawer = document.getElementById('menuDrawer');
    const menuOverlay = document.getElementById('menuOverlay');

    function toggleMenu() {
      menuToggle.classList.toggle('active');
      menuDrawer.classList.toggle('active');
      menuOverlay.classList.toggle('active');
      document.body.style.overflow = menuDrawer.classList.contains('active') ? 'hidden' : '';
    }

    menuToggle.addEventListener('click', toggleMenu);
    menuOverlay.addEventListener('click', toggleMenu);

    // Close menu on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && menuDrawer.classList.contains('active')) {
        toggleMenu();
      }
    });
  </script>

  <script>
    // Supabase configuration
    const SUPABASE_URL = 'https://ecdxgzpjgdosueacomwn.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVjZHhnenBqZ2Rvc3VlYWNvbXduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2MTkyNzIsImV4cCI6MjA3NTE5NTI3Mn0.eY34mu5D2-4u_albqMVlH8yVvnwLTlRUgFv-9YBRA58';
    
    const form = document.getElementById('waitlistForm');
    const formCard = document.getElementById('formCard');
    const formMessage = document.getElementById('formMessage');
    const submitBtn = document.getElementById('submitBtn');
    
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Disable button and show loading state
      submitBtn.disabled = true;
      submitBtn.textContent = 'Joining...';
      formMessage.className = 'form-message';
      formMessage.style.display = 'none';
      
      // Get form data
      const formData = new FormData(form);
      const data = {
        name: formData.get('name').trim(),
        email: formData.get('email').trim().toLowerCase(),
        gender: formData.get('gender'),
        city: formData.get('city').trim()
      };
      
      try {
        const response = await fetch(`${SUPABASE_URL}/rest/v1/waitlist`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'apikey': SUPABASE_ANON_KEY,
            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
            'Prefer': 'return=minimal'
          },
          body: JSON.stringify(data)
        });
        
        if (response.ok) {
          // Success - show success state
          formCard.classList.add('submitted');
        } else if (response.status === 409) {
          // Duplicate email
          showAlreadyRegistered();
        } else {
          const error = await response.json();
          if (error.message?.includes('duplicate') || error.message?.includes('unique')) {
            showAlreadyRegistered();
          } else {
            showError('Something went wrong. Please try again.');
          }
        }
      } catch (error) {
        console.error('Error:', error);
        showError('Unable to connect. Please check your internet and try again.');
      }
      
      // Re-enable button
      submitBtn.disabled = false;
      submitBtn.textContent = 'Join Early Access';
    });
    
    function showError(message) {
      formMessage.textContent = message;
      formMessage.className = 'form-message error';
      formMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    
    function showAlreadyRegistered() {
      // Show a friendly "already registered" state instead of the form
      formCard.innerHTML = `
        <div class="success-content" style="display: block;">
          <div class="success-icon" style="background: rgba(181, 161, 120, 0.15);">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="color: var(--color-gold);">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h3 class="success-title">You're already on the list!</h3>
          <p class="success-text">We have your details and will be in touch soon with early access updates.</p>
        </div>
      `;
    }
    
    // City Autocomplete
    const cityInput = document.getElementById('cityInput');
    const cityDropdown = document.getElementById('cityDropdown');
    let debounceTimer;
    let selectedIndex = -1;
    
    cityInput.addEventListener('input', (e) => {
      const query = e.target.value.trim();
      
      // Clear previous timer
      clearTimeout(debounceTimer);
      
      if (query.length < 2) {
        cityDropdown.classList.remove('active');
        return;
      }
      
      // Debounce API calls
      debounceTimer = setTimeout(() => fetchCities(query), 300);
    });
    
    // Major cities with population rank for sorting (lower = bigger city)
    // Each entry: [name, population_rank]
    const CITIES_RANKED = [
      // Global megacities (rank 1-20)
      ["Tokyo, Japan", 1], ["Delhi, India", 2], ["Shanghai, China", 3], ["São Paulo, Brazil", 4],
      ["Mexico City, Mexico", 5], ["Cairo, Egypt", 6], ["Mumbai, India", 7], ["Beijing, China", 8],
      ["Dhaka, Bangladesh", 9], ["Osaka, Japan", 10], ["New York, United States", 11], ["Karachi, Pakistan", 12],
      ["Buenos Aires, Argentina", 13], ["Istanbul, Turkey", 14], ["Kolkata, India", 15], ["Lagos, Nigeria", 16],
      ["Manila, Philippines", 17], ["Guangzhou, China", 18], ["Rio de Janeiro, Brazil", 19], ["Lahore, Pakistan", 20],
      // Major world cities (rank 21-80)
      ["Bangalore, India", 21], ["Moscow, Russia", 22], ["Shenzhen, China", 23], ["Jakarta, Indonesia", 24],
      ["London, United Kingdom", 25], ["Bangkok, Thailand", 26], ["Chennai, India", 27], ["Lima, Peru", 28],
      ["Bogotá, Colombia", 29], ["Ho Chi Minh City, Vietnam", 30], ["Hyderabad, India", 31], ["Seoul, South Korea", 32],
      ["Chengdu, China", 33], ["Hangzhou, China", 34], ["Pune, India", 35], ["Ahmedabad, India", 36],
      ["Riyadh, Saudi Arabia", 37], ["Jaipur, India", 38], ["Surat, India", 39], ["Hong Kong", 40],
      ["Singapore", 41], ["Jeddah, Saudi Arabia", 42], ["Lucknow, India", 43], ["Kanpur, India", 44],
      ["Nagpur, India", 45], ["Indore, India", 46], ["Hanoi, Vietnam", 47], ["Johannesburg, South Africa", 48],
      ["Los Angeles, United States", 49], ["Chicago, United States", 50], ["Toronto, Canada", 51],
      ["Sydney, Australia", 52], ["Melbourne, Australia", 53], ["Paris, France", 54], ["Berlin, Germany", 55],
      ["Madrid, Spain", 56], ["Dubai, UAE", 57], ["Rome, Italy", 58], ["Houston, United States", 59],
      ["Taipei, Taiwan", 60], ["Nairobi, Kenya", 61], ["Addis Ababa, Ethiopia", 62], ["Dar es Salaam, Tanzania", 63],
      ["Yangon, Myanmar", 64], ["Colombo, Sri Lanka", 65], ["Cape Town, South Africa", 66],
      ["Phoenix, United States", 67], ["Philadelphia, United States", 68], ["San Antonio, United States", 69],
      ["San Diego, United States", 70], ["Dallas, United States", 71], ["Busan, South Korea", 72],
      ["Barcelona, Spain", 73], ["Kathmandu, Nepal", 74], ["Islamabad, Pakistan", 75],
      ["Accra, Ghana", 76], ["Abuja, Nigeria", 77], ["Kampala, Uganda", 78], ["Casablanca, Morocco", 79],
      ["Alexandria, Egypt", 80],
      // Large cities (rank 81-150)
      ["Milan, Italy", 81], ["Brisbane, Australia", 82], ["Montreal, Canada", 83], ["Vancouver, Canada", 84],
      ["Perth, Australia", 85], ["San Jose, United States", 86], ["Austin, United States", 87],
      ["San Francisco, United States", 88], ["Jacksonville, United States", 89], ["Fort Worth, United States", 90],
      ["Columbus, United States", 91], ["Charlotte, United States", 92], ["Indianapolis, United States", 93],
      ["Seattle, United States", 94], ["Denver, United States", 95], ["Boston, United States", 96],
      ["Nashville, United States", 97], ["Washington DC, United States", 98], ["Amsterdam, Netherlands", 99],
      ["Munich, Germany", 100], ["Stockholm, Sweden", 101], ["Vienna, Austria", 102],
      ["Warsaw, Poland", 103], ["Budapest, Hungary", 104], ["Prague, Czech Republic", 105],
      ["Dublin, Ireland", 106], ["Zurich, Switzerland", 107], ["Lisbon, Portugal", 108],
      ["Copenhagen, Denmark", 109], ["Helsinki, Finland", 110], ["Oslo, Norway", 111],
      ["Brussels, Belgium", 112], ["Athens, Greece", 113], ["Bucharest, Romania", 114],
      ["Manchester, United Kingdom", 115], ["Birmingham, United Kingdom", 116], ["Edinburgh, United Kingdom", 117],
      ["Glasgow, United Kingdom", 118], ["Adelaide, Australia", 119], ["Calgary, Canada", 120],
      ["Edmonton, Canada", 121], ["Ottawa, Canada", 122], ["Auckland, New Zealand", 123],
      ["Incheon, South Korea", 124], ["Yokohama, Japan", 125], ["Nagoya, Japan", 126],
      ["Surabaya, Indonesia", 127], ["Cebu, Philippines", 128], ["Medellín, Colombia", 129],
      ["Santiago, Chile", 130], ["Montevideo, Uruguay", 131], ["Caracas, Venezuela", 132],
      ["Quito, Ecuador", 133], ["Panama City, Panama", 134], ["Guadalajara, Mexico", 135],
      ["Monterrey, Mexico", 136], ["Kigali, Rwanda", 137], ["Tunis, Tunisia", 138],
      ["Durban, South Africa", 139], ["Pretoria, South Africa", 140],
      ["Abu Dhabi, UAE", 141], ["Doha, Qatar", 142], ["Kuwait City, Kuwait", 143],
      ["Manama, Bahrain", 144], ["Muscat, Oman", 145], ["Amman, Jordan", 146],
      ["Beirut, Lebanon", 147], ["Tel Aviv, Israel", 148], ["Jerusalem, Israel", 149],
      ["Sharjah, UAE", 150],
      // Mid-size cities (rank 151-280)
      ["Portland, United States", 151], ["Las Vegas, United States", 152], ["Detroit, United States", 153],
      ["Memphis, United States", 154], ["Louisville, United States", 155], ["Baltimore, United States", 156],
      ["Milwaukee, United States", 157], ["Albuquerque, United States", 158], ["Tucson, United States", 159],
      ["Fresno, United States", 160], ["Sacramento, United States", 161], ["Atlanta, United States", 162],
      ["Miami, United States", 163], ["Oakland, United States", 164], ["Minneapolis, United States", 165],
      ["Cleveland, United States", 166], ["Raleigh, United States", 167], ["Tampa, United States", 168],
      ["New Orleans, United States", 169], ["Pittsburgh, United States", 170], ["Cincinnati, United States", 171],
      ["St. Louis, United States", 172], ["Orlando, United States", 173], ["Honolulu, United States", 174],
      ["Salt Lake City, United States", 175], ["Kansas City, United States", 176],
      ["Liverpool, United Kingdom", 177], ["Bristol, United Kingdom", 178], ["Leeds, United Kingdom", 179],
      ["Sheffield, United Kingdom", 180], ["Newcastle, United Kingdom", 181], ["Nottingham, United Kingdom", 182],
      ["Southampton, United Kingdom", 183], ["Brighton, United Kingdom", 184], ["Cambridge, United Kingdom", 185],
      ["Oxford, United Kingdom", 186], ["Cardiff, United Kingdom", 187], ["Belfast, United Kingdom", 188],
      ["Leicester, United Kingdom", 189], ["Coventry, United Kingdom", 190], ["Reading, United Kingdom", 191],
      ["Cork, Ireland", 192], ["Galway, Ireland", 193], ["Limerick, Ireland", 194],
      ["Gold Coast, Australia", 195], ["Canberra, Australia", 196], ["Newcastle, Australia", 197],
      ["Hobart, Australia", 198], ["Darwin, Australia", 199], ["Wollongong, Australia", 200],
      ["Geelong, Australia", 201], ["Townsville, Australia", 202], ["Cairns, Australia", 203], ["Toowoomba, Australia", 204],
      ["Wellington, New Zealand", 205], ["Christchurch, New Zealand", 206], ["Hamilton, New Zealand", 207], ["Dunedin, New Zealand", 208],
      ["Winnipeg, Canada", 209], ["Quebec City, Canada", 210], ["Hamilton, Canada", 211], ["Victoria, Canada", 212],
      ["Halifax, Canada", 213], ["Saskatoon, Canada", 214], ["Regina, Canada", 215], ["Kitchener, Canada", 216], ["London, Canada", 217],
      ["Thane, India", 218], ["Bhopal, India", 219], ["Visakhapatnam, India", 220], ["Patna, India", 221],
      ["Vadodara, India", 222], ["Ghaziabad, India", 223], ["Ludhiana, India", 224], ["Agra, India", 225],
      ["Nashik, India", 226], ["Faridabad, India", 227], ["Meerut, India", 228], ["Coimbatore, India", 229],
      ["Kochi, India", 230], ["Chandigarh, India", 231], ["Goa, India", 232], ["Trivandrum, India", 233],
      ["Kuala Lumpur, Malaysia", 234], ["Penang, Malaysia", 235], ["Johor Bahru, Malaysia", 236],
      ["Frankfurt, Germany", 237], ["Hamburg, Germany", 238], ["Cologne, Germany", 239], ["Stuttgart, Germany", 240], ["Düsseldorf, Germany", 241],
      ["Marseille, France", 242], ["Lyon, France", 243], ["Toulouse, France", 244], ["Nice, France", 245], ["Bordeaux, France", 246],
      ["Rotterdam, Netherlands", 247], ["The Hague, Netherlands", 248], ["Utrecht, Netherlands", 249],
      ["Antwerp, Belgium", 250], ["Ghent, Belgium", 251],
      ["Geneva, Switzerland", 252], ["Basel, Switzerland", 253], ["Bern, Switzerland", 254],
      ["Salzburg, Austria", 255], ["Luxembourg City, Luxembourg", 256],
      ["Valencia, Spain", 257], ["Seville, Spain", 258], ["Málaga, Spain", 259], ["Bilbao, Spain", 260],
      ["Naples, Italy", 261], ["Turin, Italy", 262], ["Florence, Italy", 263], ["Bologna, Italy", 264], ["Venice, Italy", 265],
      ["Porto, Portugal", 266], ["Thessaloniki, Greece", 267],
      ["Gothenburg, Sweden", 268], ["Malmö, Sweden", 269], ["Aarhus, Denmark", 270], ["Bergen, Norway", 271],
      ["Tampere, Finland", 272], ["Reykjavik, Iceland", 273],
      ["Krakow, Poland", 274], ["Wroclaw, Poland", 275], ["Gdansk, Poland", 276],
      ["Brno, Czech Republic", 277], ["Cluj-Napoca, Romania", 278], ["Sofia, Bulgaria", 279],
      ["Belgrade, Serbia", 280], ["Zagreb, Croatia", 281], ["Split, Croatia", 282],
      ["Ljubljana, Slovenia", 283], ["Bratislava, Slovakia", 284],
      ["Tallinn, Estonia", 285], ["Riga, Latvia", 286], ["Vilnius, Lithuania", 287],
      ["Kyiv, Ukraine", 288], ["Lviv, Ukraine", 289], ["St. Petersburg, Russia", 290],
      ["Kyoto, Japan", 291], ["Fukuoka, Japan", 292], ["Sapporo, Japan", 293],
      ["Kaohsiung, Taiwan", 294], ["Chiang Mai, Thailand", 295], ["Phuket, Thailand", 296],
      ["Bali, Indonesia", 297], ["Phnom Penh, Cambodia", 298],
      ["Brasília, Brazil", 299], ["Salvador, Brazil", 300], ["Belo Horizonte, Brazil", 301], ["Curitiba, Brazil", 302],
      ["Córdoba, Argentina", 303], ["Mendoza, Argentina", 304], ["Valparaíso, Chile", 305],
      ["Cusco, Peru", 306], ["Cartagena, Colombia", 307], ["Guayaquil, Ecuador", 308],
      ["Cancún, Mexico", 309], ["Tijuana, Mexico", 310], ["San José, Costa Rica", 311], ["Guatemala City, Guatemala", 312],
      ["Havana, Cuba", 313], ["San Juan, Puerto Rico", 314], ["Kingston, Jamaica", 315], ["Nassau, Bahamas", 316],
      ["Marrakech, Morocco", 317], ["Suva, Fiji", 318], ["Port Moresby, Papua New Guinea", 319]
    ];
    
    function fetchCities(query) {
      const lowerQuery = query.toLowerCase();
      
      // Filter matching cities
      const matches = CITIES_RANKED.filter(([city]) => 
        city.toLowerCase().includes(lowerQuery)
      );
      
      // Sort: "starts with" matches first (by rank), then "contains" matches (by rank)
      matches.sort(([cityA, rankA], [cityB, rankB]) => {
        const aStarts = cityA.toLowerCase().startsWith(lowerQuery);
        const bStarts = cityB.toLowerCase().startsWith(lowerQuery);
        
        if (aStarts && !bStarts) return -1;
        if (!aStarts && bStarts) return 1;
        return rankA - rankB;
      });
      
      // Take top 7
      displayCities(matches.slice(0, 7).map(([city]) => city));
    }
    
    function displayCities(cities) {
      if (cities.length === 0) {
        cityDropdown.innerHTML = '<div class="city-loading">Type your city or select from suggestions</div>';
        cityDropdown.classList.add('active');
        return;
      }
      
      selectedIndex = -1;
      cityDropdown.innerHTML = cities.map((city, index) => {
        return `<div class="city-option" data-index="${index}" data-value="${city}">${city}</div>`;
      }).join('');
      
      cityDropdown.classList.add('active');
      
      // Add click handlers
      cityDropdown.querySelectorAll('.city-option').forEach(option => {
        option.addEventListener('click', () => {
          cityInput.value = option.dataset.value;
          cityDropdown.classList.remove('active');
        });
      });
    }
    
    // Keyboard navigation
    cityInput.addEventListener('keydown', (e) => {
      const options = cityDropdown.querySelectorAll('.city-option');
      if (!options.length) return;
      
      if (e.key === 'ArrowDown') {
        e.preventDefault();
        selectedIndex = Math.min(selectedIndex + 1, options.length - 1);
        updateSelection(options);
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        selectedIndex = Math.max(selectedIndex - 1, 0);
        updateSelection(options);
      } else if (e.key === 'Enter' && selectedIndex >= 0) {
        e.preventDefault();
        cityInput.value = options[selectedIndex].dataset.value;
        cityDropdown.classList.remove('active');
      } else if (e.key === 'Escape') {
        cityDropdown.classList.remove('active');
      }
    });
    
    function updateSelection(options) {
      options.forEach((opt, i) => {
        opt.classList.toggle('selected', i === selectedIndex);
      });
    }
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.city-autocomplete')) {
        cityDropdown.classList.remove('active');
      }
    });
    
    // Share functionality
    const SHARE_TEXT = 'Just joined the Ethos waitlist \u2013 matchmaking, not swiping. Thought of you:';
    const SHARE_URL = 'https://ethosapp.co';
    
    function handleShare() {
      // Use native share sheet on mobile (iOS/Android)
      if (navigator.share) {
        navigator.share({
          title: 'Ethos',
          text: SHARE_TEXT,
          url: SHARE_URL
        }).catch(() => {
          // User cancelled or error - fall back to copy
          handleCopyLink();
        });
      } else {
        // Desktop fallback - copy to clipboard
        handleCopyLink();
      }
    }
    
    function handleCopyLink() {
      const fullText = SHARE_TEXT + ' ' + SHARE_URL;
      navigator.clipboard.writeText(fullText).then(() => {
        const btn = document.getElementById('copyBtn');
        btn.classList.add('copied');
        btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="width:16px;height:16px"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg> Copied!';
        setTimeout(() => {
          btn.classList.remove('copied');
          btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="width:16px;height:16px"><path stroke-linecap="round" s
